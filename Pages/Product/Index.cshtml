@page "/P/{pid}/{title}";
@using BAN_BANH.Method;
@using Model;
@model BAN_BANH.Pages.Product.IndexModel
@{
    Layout = "/Pages/Shared/Layouts/_Layout_Drum.cshtml";
    SanPham sanpham = (SanPham)ViewData["sanpham"];
    var method = new MethodOne();
    var url = method.URLSanPham(sanpham.ten, sanpham.pid);
    var calStar = (CalStar)ViewData["star"];

    List<Comment> listComment = (List<Comment>)ViewData["comment"];

    StarCountImage sci = new StarCountImage()
            {
                mode = "normal",
                number = calStar.AvgStar
            };

    SameProduct sameProduct = new SameProduct()
            {
                sanpham = sanpham,
                config = (IConfiguration)ViewData["config"]
            };
}

@section colori{
    <link rel="stylesheet" href="~/statics/css/Swiper-Image.css">
}

<div>@sanpham.ten</div>

<div id="content" class="product-content" current="product-content">
    <div class="decore-cakestore decore-product"><img data-aos="slide-up" class="img-decore-2" src="assets/img/design/decore.png" anim="bottom-100px-100"><img data-aos="slide-down" class="img-decore-1" src="assets/img/design/—Pngtree—moon%20mid-autumn%20festival%20tanabata%20fifteen_5778534.png" anim="top-100px-0"></div>
    <div class="container">
        <div class="site-map"><a href="/">Trang chủ</a><a href="/">Sản phẩm</a><a href="@url">@sanpham.ten</a></div>
        <div id="detail-gallary-pr">
            <div class="item">
                @await Component.InvokeAsync("SwiperProductDetail", sanpham.pid)
            </div>
            <div id="product-detail-a" class="item">
                <div>
                    <h1 id="detail-pname">@sanpham.ten</h1>
                    <div id="start-product">

                        @await Component.InvokeAsync("StarCount", sci)
                        <div id="vdt-star-product"><span id="detailstar-product">@calStar.AvgStar</span><span id="detailstar-numvote">/ @calStar.Total lượt đánh giá</span></div>
                    </div>
                    <div id="price-product"><span class="money">@sanpham.gia</span><span>đ</span></div>
                    <div class="product-cert">
                        <div class="item-cert">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                <path d="M14 0C16.7614 0 19 2.23858 19 5V17C19 20.866 15.866 24 12 24C8.13401 24 5 20.866 5 17V9H7V17C7 19.7614 9.23858 22 12 22C14.7614 22 17 19.7614 17 17V5C17 3.34315 15.6569 2 14 2C12.3431 2 11 3.34315 11 5V17C11 17.5523 11.4477 18 12 18C12.5523 18 13 17.5523 13 17V6H15V17C15 18.6569 13.6569 20 12 20C10.3431 20 9 18.6569 9 17V5C9 2.23858 11.2386 0 14 0Z" fill="currentColor"></path>
                            </svg><span>Sản phẩm được đánh giá cao</span>
                        </div>
                        <div class="item-cert">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                <path d="M14 0C16.7614 0 19 2.23858 19 5V17C19 20.866 15.866 24 12 24C8.13401 24 5 20.866 5 17V9H7V17C7 19.7614 9.23858 22 12 22C14.7614 22 17 19.7614 17 17V5C17 3.34315 15.6569 2 14 2C12.3431 2 11 3.34315 11 5V17C11 17.5523 11.4477 18 12 18C12.5523 18 13 17.5523 13 17V6H15V17C15 18.6569 13.6569 20 12 20C10.3431 20 9 18.6569 9 17V5C9 2.23858 11.2386 0 14 0Z" fill="currentColor"></path>
                            </svg><span>Sản phẩm bán chạy thứ 2</span>
                        </div>
                        <div class="item-cert">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                <path d="M14 0C16.7614 0 19 2.23858 19 5V17C19 20.866 15.866 24 12 24C8.13401 24 5 20.866 5 17V9H7V17C7 19.7614 9.23858 22 12 22C14.7614 22 17 19.7614 17 17V5C17 3.34315 15.6569 2 14 2C12.3431 2 11 3.34315 11 5V17C11 17.5523 11.4477 18 12 18C12.5523 18 13 17.5523 13 17V6H15V17C15 18.6569 13.6569 20 12 20C10.3431 20 9 18.6569 9 17V5C9 2.23858 11.2386 0 14 0Z" fill="currentColor"></path>
                            </svg><span>Sản phẩm hot</span>
                        </div>
                    </div>
                    <div class="product-cert">
                        <div class="item-cert">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                <path d="M3.03509 12.9431C3.24245 14.9227 4.10472 16.8468 5.62188 18.364C7.13904 19.8811 9.0631 20.7434 11.0428 20.9508L3.03509 12.9431Z" fill="currentColor"></path>
                                <path d="M3 11.4938L12.4921 20.9858C13.2976 20.9407 14.0981 20.7879 14.8704 20.5273L3.4585 9.11548C3.19793 9.88771 3.0451 10.6883 3 11.4938Z" fill="currentColor"></path>
                                <path d="M3.86722 8.10999L15.8758 20.1186C16.4988 19.8201 17.0946 19.4458 17.6493 18.9956L4.99021 6.33659C4.54006 6.89125 4.16573 7.487 3.86722 8.10999Z" fill="currentColor"></path>
                                <path d="M5.66301 5.59517C9.18091 2.12137 14.8488 2.135 18.3498 5.63604C21.8508 9.13708 21.8645 14.8049 18.3907 18.3228L5.66301 5.59517Z" fill="currentColor"></path>
                            </svg><span>BanBanh Cam kết về chất lượng và nguồn gốc sản phẩm</span>
                        </div>
                    </div>
                </div>
                <form id="form-order-product" action="/product/order" method="post" enctype="application/x-www-form-urlencoded">
                    <div id="number-order-product">
                        <button class="btn" id="order-minus-btn" type="button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                <path d="M16.2426 6.34317L14.8284 4.92896L7.75739 12L14.8285 19.0711L16.2427 17.6569L10.5858 12L16.2426 6.34317Z" fill="currentColor"></path>
                            </svg><span>Giảm</span>
                        </button>
                        <div id="numproduct-order">
                            <img id="decore-iproduct" src="~/statics/img/design/brush.svg">
                            <div id="dtail-item-order-input"><input class="form-control" type="number" id="user-detail-input-order" value="1" min="1"><span>Sản phẩm</span><input class="form-control" type="number" id="true-number-order" hidden="" name="numberOrder" value="1" min="1"></div> <input hidden name=""/>
                        </div><button class="btn" id="order-plus-btn" type="button">
                            <span>Thêm</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                <path d="M10.5858 6.34317L12 4.92896L19.0711 12L12 19.0711L10.5858 17.6569L16.2427 12L10.5858 6.34317Z" fill="currentColor"></path>
                            </svg>
                        </button>
                    </div><button class="btn" id="btn-submit-order" type="submit">Đặt mua</button>
                </form>
            </div>
        </div>
        <div id="product-info-zone">
            <div id="infomation-product">
                <article id="product-info-base">
                    <h4>Thông tin sản phẩm</h4>
                    <p class="text-justify">
                        @Html.Raw(sanpham.mota)
                    </p>
                </article>
                <article id="comment-and-vote">
                    <h4>Nhận xét từ người mua hàng</h4>
                    <div id="list-comment">

                        @foreach (var item in listComment)
                        {
                            @await Component.InvokeAsync("Comment", item)
                        }

                        <div id="view-more-comment">
                            <a href="#">
                                Xem thêm
                                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                    <path d="M7.75735 5.63605L6.34314 7.05026L12 12.7071L17.6569 7.05029L16.2427 5.63608L12 9.87872L7.75735 5.63605Z" fill="currentColor"></path>
                                    <path d="M6.34314 12.7071L7.75735 11.2929L12 15.5356L16.2427 11.2929L17.6569 12.7071L12 18.364L6.34314 12.7071Z" fill="currentColor"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </article>
            </div>
            <div id="same-product">
                <a href="#">
                    <h4 class="text-white">Sản phẩm tương tự</h4>
                </a>
                <div id="list-same-product">
                    @await Component.InvokeAsync("SameProduct", sameProduct)


                </div>
            </div>
        </div>
    </div>
</div>

@section colorii{
    <script src="~/statics/js/lib/Swiper-Image-Lightgallery.js"></script>
    <script src="~/statics/js/lib/Swiper-Image-Swiper.js"></script>
}